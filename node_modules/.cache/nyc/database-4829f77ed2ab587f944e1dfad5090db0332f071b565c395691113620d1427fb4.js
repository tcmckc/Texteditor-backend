function cov_2egindbbbp(){var path="/Users/Tomoko1/dbwebb-kurser/jsramverk/me/my-app-backend/db/database.js";var hash="79b2d159474e81ae6d4a48e12a19895e08af9160";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/Tomoko1/dbwebb-kurser/jsramverk/me/my-app-backend/db/database.js",statementMap:{"0":{start:{line:3,column:14},end:{line:3,column:44}},"1":{start:{line:4,column:23},end:{line:4,column:34}},"2":{start:{line:6,column:17},end:{line:28,column:1}},"3":{start:{line:8,column:18},end:{line:9,column:97}},"4":{start:{line:11,column:8},end:{line:13,column:9}},"5":{start:{line:12,column:12},end:{line:12,column:51}},"6":{start:{line:15,column:24},end:{line:18,column:10}},"7":{start:{line:19,column:19},end:{line:19,column:36}},"8":{start:{line:20,column:27},end:{line:20,column:62}},"9":{start:{line:22,column:8},end:{line:26,column:10}},"10":{start:{line:30,column:0},end:{line:30,column:26}}},fnMap:{"0":{name:"getDb",decl:{start:{line:7,column:26},end:{line:7,column:31}},loc:{start:{line:7,column:34},end:{line:27,column:5}},line:7}},branchMap:{"0":{loc:{start:{line:11,column:8},end:{line:13,column:9}},type:"if",locations:[{start:{line:11,column:8},end:{line:13,column:9}},{start:{line:11,column:8},end:{line:13,column:9}}],line:11}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"79b2d159474e81ae6d4a48e12a19895e08af9160"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2egindbbbp=function(){return actualCoverage;};}return actualCoverage;}cov_2egindbbbp();// Module for setting up connection to database (Express <-> mongodb)
const mongo=(cov_2egindbbbp().s[0]++,require("mongodb").MongoClient);const collectionName=(cov_2egindbbbp().s[1]++,"documents");const database=(cov_2egindbbbp().s[2]++,{getDb:async function getDb(){cov_2egindbbbp().f[0]++;let dsn=(cov_2egindbbbp().s[3]++,`mongodb+srv://${process.env.ATLAS_USERNAME}:`+`${process.env.ATLAS_PASSWORD}@cluster0.5vx9jte.mongodb.net/?retryWrites=true&w=majority`);cov_2egindbbbp().s[4]++;if(process.env.NODE_ENV==='test'){cov_2egindbbbp().b[0][0]++;cov_2egindbbbp().s[5]++;dsn="mongodb://localhost:27017/test";}else{cov_2egindbbbp().b[0][1]++;}const client=(cov_2egindbbbp().s[6]++,await mongo.connect(dsn,{useNewUrlParser:true,useUnifiedTopology:true}));const db=(cov_2egindbbbp().s[7]++,await client.db());const collection=(cov_2egindbbbp().s[8]++,await db.collection(collectionName));cov_2egindbbbp().s[9]++;return{db:db,collection:collection,client:client};}});cov_2egindbbbp().s[10]++;module.exports=database;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nbyIsInJlcXVpcmUiLCJNb25nb0NsaWVudCIsImNvbGxlY3Rpb25OYW1lIiwiZGF0YWJhc2UiLCJnZXREYiIsImRzbiIsInByb2Nlc3MiLCJlbnYiLCJBVExBU19VU0VSTkFNRSIsIkFUTEFTX1BBU1NXT1JEIiwiTk9ERV9FTlYiLCJjbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZGIiLCJjb2xsZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vZHVsZSBmb3Igc2V0dGluZyB1cCBjb25uZWN0aW9uIHRvIGRhdGFiYXNlIChFeHByZXNzIDwtPiBtb25nb2RiKVxuXG5jb25zdCBtb25nbyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpLk1vbmdvQ2xpZW50O1xuY29uc3QgY29sbGVjdGlvbk5hbWUgPSBcImRvY3VtZW50c1wiO1xuXG5jb25zdCBkYXRhYmFzZSA9IHtcbiAgICBnZXREYjogYXN5bmMgZnVuY3Rpb24gZ2V0RGIoKSB7XG4gICAgICAgIGxldCBkc24gPSBgbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkFUTEFTX1VTRVJOQU1FfTpgICtcbiAgICAgICAgYCR7cHJvY2Vzcy5lbnYuQVRMQVNfUEFTU1dPUkR9QGNsdXN0ZXIwLjV2eDlqdGUubW9uZ29kYi5uZXQvP3JldHJ5V3JpdGVzPXRydWUmdz1tYWpvcml0eWA7XG5cbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgICAgICAgICAgIGRzbiA9IFwibW9uZ29kYjovL2xvY2FsaG9zdDoyNzAxNy90ZXN0XCI7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjbGllbnQgID0gYXdhaXQgbW9uZ28uY29ubmVjdChkc24sIHtcbiAgICAgICAgICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcbiAgICAgICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGRiID0gYXdhaXQgY2xpZW50LmRiKCk7XG4gICAgICAgIGNvbnN0IGNvbGxlY3Rpb24gPSBhd2FpdCBkYi5jb2xsZWN0aW9uKGNvbGxlY3Rpb25OYW1lKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGI6IGRiLFxuICAgICAgICAgICAgY29sbGVjdGlvbjogY29sbGVjdGlvbixcbiAgICAgICAgICAgIGNsaWVudDogY2xpZW50LFxuICAgICAgICB9O1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZGF0YWJhc2U7XG4iXSwibWFwcGluZ3MiOiI2bURBZVk7QUFBQSwyRkFmWjtBQUVBLEtBQU1BLE1BQUssMEJBQUdDLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQ0MsV0FBVyxFQUM1QyxLQUFNQyxlQUFjLDBCQUFHLFdBQVcsRUFFbEMsS0FBTUMsU0FBUSwwQkFBRyxDQUNiQyxLQUFLLENBQUUsY0FBZUEsTUFBSyxFQUFHLHlCQUMxQixHQUFJQyxJQUFHLDBCQUFJLGlCQUFnQkMsT0FBTyxDQUFDQyxHQUFHLENBQUNDLGNBQWUsR0FBRSxDQUN2RCxHQUFFRixPQUFPLENBQUNDLEdBQUcsQ0FBQ0UsY0FBZSw0REFBMkQsRUFBQyx3QkFFMUYsR0FBSUgsT0FBTyxDQUFDQyxHQUFHLENBQUNHLFFBQVEsR0FBSyxNQUFNLENBQUUsb0RBQ2pDTCxHQUFHLENBQUcsZ0NBQWdDLENBQzFDLENBQUMsaUNBRUQsS0FBTU0sT0FBTSwwQkFBSSxLQUFNWixNQUFLLENBQUNhLE9BQU8sQ0FBQ1AsR0FBRyxDQUFFLENBQ3JDUSxlQUFlLENBQUUsSUFBSSxDQUNyQkMsa0JBQWtCLENBQUUsSUFDeEIsQ0FBQyxDQUFDLEVBQ0YsS0FBTUMsR0FBRSwwQkFBRyxLQUFNSixPQUFNLENBQUNJLEVBQUUsRUFBRSxFQUM1QixLQUFNQyxXQUFVLDBCQUFHLEtBQU1ELEdBQUUsQ0FBQ0MsVUFBVSxDQUFDZCxjQUFjLENBQUMsRUFBQyx3QkFFdkQsTUFBTyxDQUNIYSxFQUFFLENBQUVBLEVBQUUsQ0FDTkMsVUFBVSxDQUFFQSxVQUFVLENBQ3RCTCxNQUFNLENBQUVBLE1BQ1osQ0FBQyxDQUNMLENBQ0osQ0FBQyxFQUFDLHlCQUVGTSxNQUFNLENBQUNDLE9BQU8sQ0FBR2YsUUFBUSJ9