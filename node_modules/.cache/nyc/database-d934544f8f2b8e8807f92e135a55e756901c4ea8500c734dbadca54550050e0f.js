function cov_2egindbbbp(){var path="/Users/Tomoko1/dbwebb-kurser/jsramverk/me/my-app-backend/db/database.js";var hash="529a8d9f68cabdefd1e3b228da94a12b235651ec";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/Tomoko1/dbwebb-kurser/jsramverk/me/my-app-backend/db/database.js",statementMap:{"0":{start:{line:3,column:14},end:{line:3,column:44}},"1":{start:{line:4,column:23},end:{line:4,column:34}},"2":{start:{line:6,column:17},end:{line:27,column:1}},"3":{start:{line:8,column:18},end:{line:8,column:151}},"4":{start:{line:10,column:8},end:{line:12,column:9}},"5":{start:{line:11,column:12},end:{line:11,column:51}},"6":{start:{line:14,column:24},end:{line:17,column:10}},"7":{start:{line:18,column:19},end:{line:18,column:36}},"8":{start:{line:19,column:27},end:{line:19,column:62}},"9":{start:{line:21,column:8},end:{line:25,column:10}},"10":{start:{line:29,column:0},end:{line:29,column:26}}},fnMap:{"0":{name:"getDb",decl:{start:{line:7,column:26},end:{line:7,column:31}},loc:{start:{line:7,column:34},end:{line:26,column:5}},line:7}},branchMap:{"0":{loc:{start:{line:10,column:8},end:{line:12,column:9}},type:"if",locations:[{start:{line:10,column:8},end:{line:12,column:9}},{start:{line:10,column:8},end:{line:12,column:9}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},f:{"0":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"529a8d9f68cabdefd1e3b228da94a12b235651ec"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2egindbbbp=function(){return actualCoverage;};}return actualCoverage;}cov_2egindbbbp();// Module for setting up connection to database (Express <-> mongodb)
const mongo=(cov_2egindbbbp().s[0]++,require("mongodb").MongoClient);const collectionName=(cov_2egindbbbp().s[1]++,"documents");const database=(cov_2egindbbbp().s[2]++,{getDb:async function getDb(){cov_2egindbbbp().f[0]++;let dsn=(cov_2egindbbbp().s[3]++,`mongodb+srv://${process.env.ATLAS_USERNAME}:${process.env.ATLAS_PASSWORD}@cluster0.5vx9jte.mongodb.net/?retryWrites=true&w=majority`);cov_2egindbbbp().s[4]++;if(process.env.NODE_ENV==='test'){cov_2egindbbbp().b[0][0]++;cov_2egindbbbp().s[5]++;dsn="mongodb://localhost:27017/test";}else{cov_2egindbbbp().b[0][1]++;}const client=(cov_2egindbbbp().s[6]++,await mongo.connect(dsn,{useNewUrlParser:true,useUnifiedTopology:true}));const db=(cov_2egindbbbp().s[7]++,await client.db());const collection=(cov_2egindbbbp().s[8]++,await db.collection(collectionName));cov_2egindbbbp().s[9]++;return{db:db,collection:collection,client:client};}});cov_2egindbbbp().s[10]++;module.exports=database;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb25nbyIsInJlcXVpcmUiLCJNb25nb0NsaWVudCIsImNvbGxlY3Rpb25OYW1lIiwiZGF0YWJhc2UiLCJnZXREYiIsImRzbiIsInByb2Nlc3MiLCJlbnYiLCJBVExBU19VU0VSTkFNRSIsIkFUTEFTX1BBU1NXT1JEIiwiTk9ERV9FTlYiLCJjbGllbnQiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiZGIiLCJjb2xsZWN0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImRhdGFiYXNlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIE1vZHVsZSBmb3Igc2V0dGluZyB1cCBjb25uZWN0aW9uIHRvIGRhdGFiYXNlIChFeHByZXNzIDwtPiBtb25nb2RiKVxuXG5jb25zdCBtb25nbyA9IHJlcXVpcmUoXCJtb25nb2RiXCIpLk1vbmdvQ2xpZW50O1xuY29uc3QgY29sbGVjdGlvbk5hbWUgPSBcImRvY3VtZW50c1wiO1xuXG5jb25zdCBkYXRhYmFzZSA9IHtcbiAgICBnZXREYjogYXN5bmMgZnVuY3Rpb24gZ2V0RGIoKSB7XG4gICAgICAgIGxldCBkc24gPSBgbW9uZ29kYitzcnY6Ly8ke3Byb2Nlc3MuZW52LkFUTEFTX1VTRVJOQU1FfToke3Byb2Nlc3MuZW52LkFUTEFTX1BBU1NXT1JEfUBjbHVzdGVyMC41dng5anRlLm1vbmdvZGIubmV0Lz9yZXRyeVdyaXRlcz10cnVlJnc9bWFqb3JpdHlgO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgICBkc24gPSBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvdGVzdFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgY2xpZW50ICA9IGF3YWl0IG1vbmdvLmNvbm5lY3QoZHNuLCB7XG4gICAgICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBkYiA9IGF3YWl0IGNsaWVudC5kYigpO1xuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gYXdhaXQgZGIuY29sbGVjdGlvbihjb2xsZWN0aW9uTmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICAgIGNvbGxlY3Rpb246IGNvbGxlY3Rpb24sXG4gICAgICAgICAgICBjbGllbnQ6IGNsaWVudCxcbiAgICAgICAgfTtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGRhdGFiYXNlO1xuIl0sIm1hcHBpbmdzIjoiOG1EQWVZO0FBQUEsMkZBZlo7QUFFQSxLQUFNQSxNQUFLLDBCQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUNDLFdBQVcsRUFDNUMsS0FBTUMsZUFBYywwQkFBRyxXQUFXLEVBRWxDLEtBQU1DLFNBQVEsMEJBQUcsQ0FDYkMsS0FBSyxDQUFFLGNBQWVBLE1BQUssRUFBRyx5QkFDMUIsR0FBSUMsSUFBRywwQkFBSSxpQkFBZ0JDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxjQUFlLElBQUdGLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxjQUFlLDREQUEyRCxFQUFDLHdCQUVoSixHQUFJSCxPQUFPLENBQUNDLEdBQUcsQ0FBQ0csUUFBUSxHQUFLLE1BQU0sQ0FBRSxvREFDakNMLEdBQUcsQ0FBRyxnQ0FBZ0MsQ0FDMUMsQ0FBQyxpQ0FFRCxLQUFNTSxPQUFNLDBCQUFJLEtBQU1aLE1BQUssQ0FBQ2EsT0FBTyxDQUFDUCxHQUFHLENBQUUsQ0FDckNRLGVBQWUsQ0FBRSxJQUFJLENBQ3JCQyxrQkFBa0IsQ0FBRSxJQUN4QixDQUFDLENBQUMsRUFDRixLQUFNQyxHQUFFLDBCQUFHLEtBQU1KLE9BQU0sQ0FBQ0ksRUFBRSxFQUFFLEVBQzVCLEtBQU1DLFdBQVUsMEJBQUcsS0FBTUQsR0FBRSxDQUFDQyxVQUFVLENBQUNkLGNBQWMsQ0FBQyxFQUFDLHdCQUV2RCxNQUFPLENBQ0hhLEVBQUUsQ0FBRUEsRUFBRSxDQUNOQyxVQUFVLENBQUVBLFVBQVUsQ0FDdEJMLE1BQU0sQ0FBRUEsTUFDWixDQUFDLENBQ0wsQ0FDSixDQUFDLEVBQUMseUJBRUZNLE1BQU0sQ0FBQ0MsT0FBTyxDQUFHZixRQUFRIn0=